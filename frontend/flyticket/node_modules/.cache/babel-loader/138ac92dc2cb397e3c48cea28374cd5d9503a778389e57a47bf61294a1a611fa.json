{"ast":null,"code":"/*\r\n * Copyright 2012 Mozilla Foundation\r\n *\r\n * The AsciiHexStream class contained in this file is a TypeScript port of the\r\n * JavaScript AsciiHexStream class in Mozilla's pdf.js project, made available\r\n * under the Apache 2.0 open source license.\r\n */\nimport { __extends } from \"tslib\";\nimport DecodeStream from \"./DecodeStream\";\nvar AsciiHexStream = /** @class */function (_super) {\n  __extends(AsciiHexStream, _super);\n  function AsciiHexStream(stream, maybeLength) {\n    var _this = _super.call(this, maybeLength) || this;\n    _this.stream = stream;\n    _this.firstDigit = -1;\n    // Most streams increase in size when decoded, but AsciiHex streams shrink\n    // by 50%.\n    if (maybeLength) {\n      maybeLength = 0.5 * maybeLength;\n    }\n    return _this;\n  }\n  AsciiHexStream.prototype.readBlock = function () {\n    var UPSTREAM_BLOCK_SIZE = 8000;\n    var bytes = this.stream.getBytes(UPSTREAM_BLOCK_SIZE);\n    if (!bytes.length) {\n      this.eof = true;\n      return;\n    }\n    var maxDecodeLength = bytes.length + 1 >> 1;\n    var buffer = this.ensureBuffer(this.bufferLength + maxDecodeLength);\n    var bufferLength = this.bufferLength;\n    var firstDigit = this.firstDigit;\n    for (var i = 0, ii = bytes.length; i < ii; i++) {\n      var ch = bytes[i];\n      var digit = void 0;\n      if (ch >= 0x30 && ch <= 0x39) {\n        // '0'-'9'\n        digit = ch & 0x0f;\n      } else if (ch >= 0x41 && ch <= 0x46 || ch >= 0x61 && ch <= 0x66) {\n        // 'A'-'Z', 'a'-'z'\n        digit = (ch & 0x0f) + 9;\n      } else if (ch === 0x3e) {\n        // '>'\n        this.eof = true;\n        break;\n      } else {\n        // probably whitespace\n        continue; // ignoring\n      }\n      if (firstDigit < 0) {\n        firstDigit = digit;\n      } else {\n        buffer[bufferLength++] = firstDigit << 4 | digit;\n        firstDigit = -1;\n      }\n    }\n    if (firstDigit >= 0 && this.eof) {\n      // incomplete byte\n      buffer[bufferLength++] = firstDigit << 4;\n      firstDigit = -1;\n    }\n    this.firstDigit = firstDigit;\n    this.bufferLength = bufferLength;\n  };\n  return AsciiHexStream;\n}(DecodeStream);\nexport default AsciiHexStream;","map":{"version":3,"names":["DecodeStream","AsciiHexStream","_super","__extends","stream","maybeLength","_this","call","firstDigit","prototype","readBlock","UPSTREAM_BLOCK_SIZE","bytes","getBytes","length","eof","maxDecodeLength","buffer","ensureBuffer","bufferLength","i","ii","ch","digit"],"sources":["C:\\Users\\Uzer\\Desktop\\works\\flyticket\\frontend\\flyticket\\node_modules\\pdf-lib\\src\\core\\streams\\AsciiHexStream.ts"],"sourcesContent":["/*\r\n * Copyright 2012 Mozilla Foundation\r\n *\r\n * The AsciiHexStream class contained in this file is a TypeScript port of the\r\n * JavaScript AsciiHexStream class in Mozilla's pdf.js project, made available\r\n * under the Apache 2.0 open source license.\r\n */\r\n\r\nimport DecodeStream from 'src/core/streams/DecodeStream';\r\nimport { StreamType } from 'src/core/streams/Stream';\r\n\r\nclass AsciiHexStream extends DecodeStream {\r\n  private stream: StreamType;\r\n  private firstDigit: number;\r\n\r\n  constructor(stream: StreamType, maybeLength?: number) {\r\n    super(maybeLength);\r\n\r\n    this.stream = stream;\r\n\r\n    this.firstDigit = -1;\r\n\r\n    // Most streams increase in size when decoded, but AsciiHex streams shrink\r\n    // by 50%.\r\n    if (maybeLength) {\r\n      maybeLength = 0.5 * maybeLength;\r\n    }\r\n  }\r\n\r\n  protected readBlock() {\r\n    const UPSTREAM_BLOCK_SIZE = 8000;\r\n    const bytes = this.stream.getBytes(UPSTREAM_BLOCK_SIZE);\r\n    if (!bytes.length) {\r\n      this.eof = true;\r\n      return;\r\n    }\r\n\r\n    const maxDecodeLength = (bytes.length + 1) >> 1;\r\n    const buffer = this.ensureBuffer(this.bufferLength + maxDecodeLength);\r\n    let bufferLength = this.bufferLength;\r\n\r\n    let firstDigit = this.firstDigit;\r\n    for (let i = 0, ii = bytes.length; i < ii; i++) {\r\n      const ch = bytes[i];\r\n      let digit;\r\n      if (ch >= 0x30 && ch <= 0x39) {\r\n        // '0'-'9'\r\n        digit = ch & 0x0f;\r\n      } else if ((ch >= 0x41 && ch <= 0x46) || (ch >= 0x61 && ch <= 0x66)) {\r\n        // 'A'-'Z', 'a'-'z'\r\n        digit = (ch & 0x0f) + 9;\r\n      } else if (ch === 0x3e) {\r\n        // '>'\r\n        this.eof = true;\r\n        break;\r\n      } else {\r\n        // probably whitespace\r\n        continue; // ignoring\r\n      }\r\n      if (firstDigit < 0) {\r\n        firstDigit = digit;\r\n      } else {\r\n        buffer[bufferLength++] = (firstDigit << 4) | digit;\r\n        firstDigit = -1;\r\n      }\r\n    }\r\n    if (firstDigit >= 0 && this.eof) {\r\n      // incomplete byte\r\n      buffer[bufferLength++] = firstDigit << 4;\r\n      firstDigit = -1;\r\n    }\r\n    this.firstDigit = firstDigit;\r\n    this.bufferLength = bufferLength;\r\n  }\r\n}\r\n\r\nexport default AsciiHexStream;\r\n"],"mappings":"AAAA;;;;;;;;AAQA,OAAOA,YAAY;AAGnB,IAAAC,cAAA,0BAAAC,MAAA;EAA6BC,SAAA,CAAAF,cAAA,EAAAC,MAAA;EAI3B,SAAAD,eAAYG,MAAkB,EAAEC,WAAoB;IAApD,IAAAC,KAAA,GACEJ,MAAA,CAAAK,IAAA,OAAMF,WAAW,CAAC;IAElBC,KAAI,CAACF,MAAM,GAAGA,MAAM;IAEpBE,KAAI,CAACE,UAAU,GAAG,CAAC,CAAC;IAEpB;IACA;IACA,IAAIH,WAAW,EAAE;MACfA,WAAW,GAAG,GAAG,GAAGA,WAAW;;;EAEnC;EAEUJ,cAAA,CAAAQ,SAAA,CAAAC,SAAS,GAAnB;IACE,IAAMC,mBAAmB,GAAG,IAAI;IAChC,IAAMC,KAAK,GAAG,IAAI,CAACR,MAAM,CAACS,QAAQ,CAACF,mBAAmB,CAAC;IACvD,IAAI,CAACC,KAAK,CAACE,MAAM,EAAE;MACjB,IAAI,CAACC,GAAG,GAAG,IAAI;MACf;;IAGF,IAAMC,eAAe,GAAIJ,KAAK,CAACE,MAAM,GAAG,CAAC,IAAK,CAAC;IAC/C,IAAMG,MAAM,GAAG,IAAI,CAACC,YAAY,CAAC,IAAI,CAACC,YAAY,GAAGH,eAAe,CAAC;IACrE,IAAIG,YAAY,GAAG,IAAI,CAACA,YAAY;IAEpC,IAAIX,UAAU,GAAG,IAAI,CAACA,UAAU;IAChC,KAAK,IAAIY,CAAC,GAAG,CAAC,EAAEC,EAAE,GAAGT,KAAK,CAACE,MAAM,EAAEM,CAAC,GAAGC,EAAE,EAAED,CAAC,EAAE,EAAE;MAC9C,IAAME,EAAE,GAAGV,KAAK,CAACQ,CAAC,CAAC;MACnB,IAAIG,KAAK;MACT,IAAID,EAAE,IAAI,IAAI,IAAIA,EAAE,IAAI,IAAI,EAAE;QAC5B;QACAC,KAAK,GAAGD,EAAE,GAAG,IAAI;OAClB,MAAM,IAAKA,EAAE,IAAI,IAAI,IAAIA,EAAE,IAAI,IAAI,IAAMA,EAAE,IAAI,IAAI,IAAIA,EAAE,IAAI,IAAK,EAAE;QACnE;QACAC,KAAK,GAAG,CAACD,EAAE,GAAG,IAAI,IAAI,CAAC;OACxB,MAAM,IAAIA,EAAE,KAAK,IAAI,EAAE;QACtB;QACA,IAAI,CAACP,GAAG,GAAG,IAAI;QACf;OACD,MAAM;QACL;QACA,SAAS,CAAC;;MAEZ,IAAIP,UAAU,GAAG,CAAC,EAAE;QAClBA,UAAU,GAAGe,KAAK;OACnB,MAAM;QACLN,MAAM,CAACE,YAAY,EAAE,CAAC,GAAIX,UAAU,IAAI,CAAC,GAAIe,KAAK;QAClDf,UAAU,GAAG,CAAC,CAAC;;;IAGnB,IAAIA,UAAU,IAAI,CAAC,IAAI,IAAI,CAACO,GAAG,EAAE;MAC/B;MACAE,MAAM,CAACE,YAAY,EAAE,CAAC,GAAGX,UAAU,IAAI,CAAC;MACxCA,UAAU,GAAG,CAAC,CAAC;;IAEjB,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACW,YAAY,GAAGA,YAAY;EAClC,CAAC;EACH,OAAAlB,cAAC;AAAD,CAAC,CA/D4BD,YAAY;AAiEzC,eAAeC,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}